<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agendar - Paintball Zone</title>

  <!-- CSS principal -->
  <link rel="stylesheet" href="../static/css/style.css">

  <!-- Fonte -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
</head>

<body class="auth-body">
  <!-- Navbar -->
  <header class="navbar">
    <div class="logo">Paintball Zone</div>
    <nav>
      <ul class="nav-links">
        <li><a href="index">Início</a></li>
        <li><a href="servicos">Serviços</a></li>
        <li><a href="sobre#sobrenos">Sobre Nós</a></li>
        <li><a href="agendar" class="active">Agendar</a></li>
        <li><a href="agendamentos">Meus Agendamentos</a></li>
      </ul>
    </nav>
  </header>

  <!-- Formulário de Agendamento -->
  <section class="auth-container">
    <form class="auth-box" method="POST" action="/agendar">
      <h2>Agendar Partida</h2>

      <!-- Nome -->
      <input type="text" name="nome" placeholder="Seu nome" required>

      <!-- Data -->
      <input id="data" type="date" name="data" required>

      <!-- Horário -->
      <input type="time" name="hora" required>

      <!-- Tipo de serviço -->
      <select name="servico" required>
        <option value="">Selecione o tipo de jogo</option>
        <option value="Treino">Treino</option>
        <option value="Partida entre amigos">Partida entre amigos</option>
        <option value="Evento">Evento / Torneio</option>
      </select>

      <!-- Quantidade de jogadores -->
      <input type="number" name="jogadores" placeholder="Número de jogadores" min="1" required>

      <p id="erro" class="error"></p>
      <!-- Botão -->
      <button onclick="limitarData()">Confirmar Agendamento</button>
    </form>
  </section>
  <script>
    const data = document.getElementById("data").value;
    const erro = document.getElementById('erro');
    const dataAtual = new Date();

   

function limitarData() {
  const dataInput = document.getElementById("data").value;
  const erro = document.getElementById("erro");
  const dataAtual = new Date();

  // Se não tiver data preenchida
  if (!dataInput) {
    erro.textContent = "Preencha uma data.";
    return;
  }

  // Converter string "YYYY-MM-DD" para Date
  const dataSelecionada = new Date(dataInput + "T00:00:00");

  // Remover horas da data atual para comparação correta
  const hoje = new Date();
  hoje.setHours(0, 0, 0, 0);

  if (dataSelecionada >= hoje) {
    window.location.href = "agendamentos";
  } else {
    erro.textContent = "A data não pode ser anterior a hoje.";
  }
}
</script>

    
  
  </script>
</body>
</html>
